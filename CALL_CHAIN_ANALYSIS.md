# ä¸Šä¸‹æ–‡æ³¨å…¥ç³»ç»Ÿä¿®å¤ - è°ƒç”¨å…³ç³»ä¸ä¾èµ–åˆ†æ

## é—®é¢˜ 1ï¼šæ–°åˆ›å»ºçš„æ–‡ä»¶æ˜¯å¦éœ€è¦è¢«ä¸»è¦ç´¢å¼•æ–‡ä»¶è°ƒç”¨ï¼Ÿ

### âœ… å·²å®Œæˆçš„é›†æˆ

**`GEMINI.md` å·²æ›´æ–°**ï¼ˆåˆšåˆšå®Œæˆï¼‰ï¼š

- æ·»åŠ äº† `context/status.md` åˆ°å¿«é€Ÿå¼•ç”¨è¡¨
- æ·»åŠ äº† "Context System" éƒ¨åˆ†è¯´æ˜ä¸‰ä¸ªæ–‡ä»¶çš„ä½œç”¨

**ä¸éœ€è¦é¢å¤–é›†æˆçš„åŸå› **ï¼š

1. **`context/status.md`** - å·²è¢« `make_prompt.py` è‡ªåŠ¨è¯»å–
   - æŸ¥çœ‹ `make_prompt.py` ç¬¬ 60-75 è¡Œï¼Œå®ƒä¼šè¯»å– `context/status.md`
   - ä½œä¸ºè¢«åŠ¨ä¸Šä¸‹æ–‡ï¼ŒAI ä¸éœ€è¦ä¸»åŠ¨è°ƒç”¨

2. **`context/auto_status.py`** - ä»…ä½œä¸ºç»´æŠ¤å·¥å…·
   - è¿™æ˜¯ä¸€ä¸ª**æ‰‹åŠ¨/å®šæ—¶è¿è¡Œ**çš„è„šæœ¬
   - ä¸éœ€è¦åœ¨ AI å·¥ä½œæµä¸­è¢«è°ƒç”¨

3. **`.agent/skills/_shared/skill_wrapper.py`** - å·²ç»æ˜¯åŸºç¡€æ¡†æ¶
   - `.agent/skills/format-python/scripts/format.py` å·²å¯¼å…¥å¹¶ä½¿ç”¨
   - å…¶ä»– skills å¯æŒ‰éœ€ä½¿ç”¨

### âš ï¸ å¯é€‰çš„è¿›ä¸€æ­¥é›†æˆ

**`README.md` æ›´æ–°**ï¼ˆå¯é€‰ï¼‰ï¼š

```markdown
## ä¸Šä¸‹æ–‡ç³»ç»Ÿ

æœ¬é¡¹ç›®ä½¿ç”¨æ™ºèƒ½ä¸Šä¸‹æ–‡æ³¨å…¥ç³»ç»Ÿï¼š
- `make_prompt.py` - æ ¹æ®é¡¹ç›®è§„æ¨¡åŠ¨æ€è°ƒæ•´ä¸Šä¸‹æ–‡æ·±åº¦
- `context/status.md` - è‡ªåŠ¨ç”Ÿæˆçš„é¡¹ç›®çŠ¶æ€
- `context/auto_status.py` - çŠ¶æ€æ›´æ–°å·¥å…·
```

---

## é—®é¢˜ 2ï¼šåˆ†å±‚ä¼˜åŒ–çš„æ–‡ä»¶è¢«è°ä¸»åŠ¨è°ƒç”¨ï¼ŸAI ä¼šä¸ä¼šè‡ªå·±å»è°ƒç”¨ï¼Ÿ

### `make_prompt.py` çš„è°ƒç”¨é“¾

#### è°ƒç”¨æ–¹å¼ 1ï¼šç”¨æˆ·æ‰‹åŠ¨è°ƒç”¨

```bash
# ç”¨æˆ·åœ¨å‘½ä»¤è¡Œè¿è¡Œ
python make_prompt.py "ä½ çš„é—®é¢˜"
```

- è¿™æ˜¯**ä¸»è¦ä½¿ç”¨æ–¹å¼**
- ç”Ÿæˆçš„è¾“å‡ºç²˜è´´ç»™ AIï¼ˆClaudeã€ChatGPT ç­‰ï¼‰

#### è°ƒç”¨æ–¹å¼ 2ï¼šAI å·¥å…·ï¼ˆå¯èƒ½ï¼Œä½†ä¸å¸¸è§ï¼‰

- **Gemini CLI ä¸ä¼šè‡ªåŠ¨è°ƒç”¨** `make_prompt.py`
- åŸå› ï¼šGemini é€šè¿‡ `AGENTS.md` ç­‰æ–‡ä»¶è·å–ä¸Šä¸‹æ–‡ï¼Œä¸éœ€è¦ `make_prompt.py`

#### å®é™…ç”¨é€”åˆ†æ

**`make_prompt.py` çš„è®¾è®¡ç›®æ ‡**ï¼š

- ä¸º**ä¸æ”¯æŒè‡ªåŠ¨ä¸Šä¸‹æ–‡åŠ è½½**çš„ AIï¼ˆå¦‚ç½‘é¡µç‰ˆ ChatGPTã€Claudeï¼‰æä¾›ä¸Šä¸‹æ–‡
- Gemini CLI å·²ç»é€šè¿‡ MCP å’Œæ–‡ä»¶ç³»ç»Ÿé›†æˆï¼Œ**ä¸éœ€è¦è¿™ä¸ªå·¥å…·**

**ç»“è®º**ï¼š

- âœ… **ä¿ç•™**ï¼šå¯¹äºä½¿ç”¨å…¶ä»– AI å·¥å…·çš„ç”¨æˆ·ä»ç„¶æœ‰ç”¨
- âš ï¸ **å¯¹ Gemini CLI ç”¨æˆ·**ï¼šè¿™ä¸ªä¼˜åŒ–ä¸»è¦æ˜¯ä¸ºäº†æœªæ¥æ‰©å±•æ€§
- ğŸ“‹ **å®é™…å½±å“**ï¼šåˆ†å±‚ç­–ç•¥å‡å°‘äº† 70-80% çš„ token ä½¿ç”¨ï¼ˆå½“æ‰‹åŠ¨è°ƒç”¨æ—¶ï¼‰

---

## é—®é¢˜ 3ï¼šè‡ªåŠ¨çŠ¶æ€ç”Ÿæˆå™¨è¢«è°ä¸»åŠ¨è°ƒç”¨ï¼Ÿ

### `context/auto_status.py` çš„è°ƒç”¨åœºæ™¯

#### åœºæ™¯ 1ï¼šç”¨æˆ·æ‰‹åŠ¨è¿è¡Œï¼ˆæ¨èæ–¹å¼ï¼‰

```bash
# Windows
python context\auto_status.py

# Linux/Mac
python3 context/auto_status.py
```

**ä½¿ç”¨æ—¶æœº**ï¼š

- æ·»åŠ /åˆ é™¤å¤§é‡æ–‡ä»¶å
- ä¿®æ”¹ `package.json` æˆ– `requirements.txt` ç­‰ä¾èµ–æ–‡ä»¶
- é‡å¤§é‡æ„å®Œæˆå
- éœ€è¦åˆ·æ–°é¡¹ç›®æ¦‚è§ˆæ—¶

#### åœºæ™¯ 2ï¼šGit Hooks è‡ªåŠ¨è§¦å‘ï¼ˆæœ€ä½³å®è·µï¼‰

```bash
# .git/hooks/post-commit è„šæœ¬å†…å®¹
#!/bin/sh
python context/auto_status.py
```

**ä¼˜ç‚¹**ï¼š

- æ¯æ¬¡æäº¤åè‡ªåŠ¨æ›´æ–°çŠ¶æ€
- ä¿è¯ `context/status.md` å§‹ç»ˆæœ€æ–°
- æ— éœ€æ‰‹åŠ¨è®°å¾—è¿è¡Œ

#### åœºæ™¯ 3ï¼šAI ä»£ç†å»ºè®®ï¼ˆé—´æ¥è°ƒç”¨ï¼‰

AI å¯ä»¥å»ºè®®ç”¨æˆ·è¿è¡Œï¼š

```
æ£€æµ‹åˆ°é¡¹ç›®ç»“æ„å˜åŒ–ï¼Œå»ºè®®è¿è¡Œï¼š
python context/auto_status.py

ä»¥æ›´æ–°é¡¹ç›®çŠ¶æ€æ–‡ä»¶ã€‚
```

### âŒ AI ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çš„åŸå› 

**æŠ€æœ¯é™åˆ¶**ï¼š

- AI åªèƒ½**å»ºè®®**ç”¨æˆ·è¿è¡Œå‘½ä»¤
- ä¸èƒ½åœ¨åå°è‡ªåŠ¨æ‰§è¡Œï¼ˆéœ€è¦ç”¨æˆ·æ‰¹å‡†ï¼‰

**è®¾è®¡ç†å¿µ**ï¼š

- çŠ¶æ€æ›´æ–°æ˜¯**ç»´æŠ¤ä»»åŠ¡**ï¼Œä¸æ˜¯å¼€å‘æµç¨‹çš„ä¸€éƒ¨åˆ†
- ç»™ç”¨æˆ·æ˜ç¡®çš„æ§åˆ¶æƒ

---

## é—®é¢˜ 4ï¼šæœªä½¿ç”¨çš„ 50 å¤šä¸ªå’Œ 10 ä¸ªæ–‡ä»¶çœŸçš„è¯¥åˆ é™¤å—ï¼Ÿä»–ä»¬è¢«ä»€ä¹ˆè°ƒç”¨ï¼Ÿ

### Workflows çš„è°ƒç”¨æœºåˆ¶ï¼ˆ~60 ä¸ªæ–‡ä»¶ï¼‰

#### å·¥ä½œåŸç†

æ¯ä¸ª workflow æ–‡ä»¶ï¼ˆå¦‚ `bmad-bmm-create-prd.md`ï¼‰åŒ…å«ï¼š

```yaml
---
name: 'create-prd'
description: 'PRD tri-modal workflow - Create, Validate, or Edit comprehensive PRDs'
---

# å®é™…å†…å®¹
IT IS CRITICAL THAT YOU FOLLOW THIS COMMAND: LOAD the FULL @{project-root}/bmad/bmm/workflows/2-plan-workflows/create-prd/workflow.md...
```

#### è°ƒç”¨æ–¹å¼

1. **ç”¨æˆ·ä½¿ç”¨æ–œæ å‘½ä»¤**ï¼š

   ```
   ç”¨æˆ·ï¼š/create-prd
   AIï¼šæ£€æµ‹åˆ° workflowï¼Œè¯»å– .agent/workflows/bmad-bmm-create-prd.md
   AIï¼šæŒ‰ç…§æ–‡ä»¶ä¸­çš„æŒ‡ä»¤æ‰§è¡Œ
   ```

2. **ç³»ç»Ÿç´¢å¼•**ï¼š
   - æ‚¨çš„ç³»ç»Ÿæç¤ºä¸­åŒ…å«ï¼š

   ```
   Here is the current list of user-defined workflows...
   - /create-prd: PRD tri-modal workflow
   ```

#### åˆ é™¤å½±å“

**åˆ é™¤æœªä½¿ç”¨çš„ workflow å**ï¼š

- âœ… **å‡å°‘ç³»ç»Ÿæç¤ºé•¿åº¦**ï¼ˆç›®å‰ workflows åˆ—è¡¨å ç”¨çº¦ 2KB tokensï¼‰
- âœ… **ç®€åŒ–ç”¨æˆ·ä½“éªŒ**ï¼ˆslash å‘½ä»¤åˆ—è¡¨æ›´ç®€æ´ï¼‰
- âŒ **å¤±å»è¯¥åŠŸèƒ½**ï¼ˆæ— æ³•å†ä½¿ç”¨ `/create-prd` ç­‰å‘½ä»¤ï¼‰

**å»ºè®®**ï¼š

- âœ… **ä¿ç•™æ ¸å¿ƒ workflows**ï¼š
  - `/aaaa` - æŸ¥çœ‹ AGENTS.md
  - `/rrrr` - åˆ·æ–°ä¸Šä¸‹æ–‡
  - `/dev` - å¼€å‘æµç¨‹
  - `/analyst` - åˆ†æåŠ©æ‰‹
  
- âš ï¸ **å¯é€‰åˆ é™¤**ï¼ˆå¦‚æœä»æœªä½¿ç”¨ï¼‰ï¼š
  - `/create-prd`, `/create-epics-and-stories` - äº§å“ç®¡ç†
  - `/bmad-*` - BMAD æ¡†æ¶ç‰¹å®šåŠŸèƒ½
  - `/qa-automate` - è‡ªåŠ¨åŒ–æµ‹è¯•

---

### Skills çš„è°ƒç”¨æœºåˆ¶ï¼ˆ17 ä¸ªï¼‰

#### å·¥ä½œåŸç†

Skills é€šè¿‡ `SKILL.md` æè¿°èƒ½åŠ›ï¼š

```markdown
# docker-lint Skill

æ£€æŸ¥ Dockerfile æœ€ä½³å®è·µ

## ç”¨æ³•
.agent/skills/docker-lint/scripts/lint.sh
```

#### è°ƒç”¨æ–¹å¼

1. **AI ä¸»åŠ¨è¯†åˆ«**ï¼š
   - ç”¨æˆ·æåˆ° "æ£€æŸ¥ Dockerfile"
   - AI åœ¨ç³»ç»Ÿæç¤ºä¸­çœ‹åˆ° `docker-lint` skill
   - AI å»ºè®®æˆ–ç›´æ¥è¿è¡Œç›¸å…³è„šæœ¬

2. **ç”¨æˆ·æ˜ç¡®è°ƒç”¨**ï¼š

   ```bash
   .agent/skills/docker-lint/scripts/lint.sh
   ```

#### åˆ é™¤å½±å“

**æœªä½¿ç”¨çš„ skills**ï¼ˆå¯å®‰å…¨åˆ é™¤ï¼‰ï¼š

- `docker-lint` - å¦‚æœä¸ç”¨ Docker
- `k8s-lint` - å¦‚æœä¸ç”¨ Kubernetes
- `rust-lint` - å¦‚æœä¸ç”¨ Rust
- `sql-lint` - å¦‚æœä¸ç”¨ SQL
- `ai-agent-lint` - å¦‚æœä¸å¼€å‘ AI Agent

**åˆ é™¤åå½±å“**ï¼š

- âœ… **å‡å°‘ `.agent/skills/` ç›®å½•å¤§å°**
- âœ… **ç²¾ç®€ç³»ç»Ÿæç¤ºä¸­çš„ skills åˆ—è¡¨**
- âŒ **å¤±å»è¯¥èƒ½åŠ›**ï¼ˆAI æ— æ³•å»ºè®®ä½¿ç”¨è¯¥å·¥å…·ï¼‰

---

## ğŸ’¡ æ¨èæ“ä½œæ¸…å•

### å¿…é¡»ä¿ç•™

- âœ… `context/status.md` - é¡¹ç›®çŠ¶æ€ï¼ˆè¢« make_prompt.py è¯»å–ï¼‰
- âœ… `context/auto_status.py` - çŠ¶æ€ç”Ÿæˆå·¥å…·
- âœ… `make_prompt.py` - ä¸Šä¸‹æ–‡æ„å»ºå™¨
- âœ… `.agent/skills/_shared/skill_wrapper.py` - Skills æ¡†æ¶

### æ¨èä¿ç•™çš„ Workflows

- âœ… `/aaaa` - å¿«é€Ÿè®¿é—® AGENTS.md
- âœ… `/rrrr` - åˆ·æ–°ä¸Šä¸‹æ–‡
- âœ… `/dev` - å¼€å‘ä»£ç†
- âœ… `/analyst` - åˆ†æä»£ç†

### æ¨èä¿ç•™çš„ Skills

- âœ… `format-python` - Python æ ¼å¼åŒ–
- âœ… `lint-python` - Python ä»£ç æ£€æŸ¥
- âœ… `format-js` - JS/TS æ ¼å¼åŒ–
- âœ… `lint-js` - JS/TS ä»£ç æ£€æŸ¥
- âœ… `generate-changelog` - ç”Ÿæˆ CHANGELOG
- âœ… `git-commit` - Git æäº¤æ¶ˆæ¯

### å¯å®‰å…¨åˆ é™¤ï¼ˆå¦‚æœä¸ä½¿ç”¨ï¼‰

- âš ï¸ æ‰€æœ‰ `bmad-bmm-*` workflowsï¼ˆçº¦ 50 ä¸ªï¼‰
- âš ï¸ `docker-lint`, `k8s-lint`, `rust-lint`, `sql-lint` skills

### ä¸´æ—¶æ–‡ä»¶ï¼ˆå»ºè®®åˆ é™¤ï¼‰

- âœ… `find_today_changes.py` - åˆ†æå®Œæˆåå¯åˆ é™¤
- âœ… `scan_project_files.py` - åˆ†æå®Œæˆåå¯åˆ é™¤

---

## ğŸ“‹ æ‰§è¡Œå»ºè®®

### å¦‚æœæ‚¨æƒ³æ¸…ç†é¡¹ç›®

#### æ­¥éª¤ 1ï¼šåˆ é™¤ä¸´æ—¶è„šæœ¬

```powershell
del find_today_changes.py
del scan_project_files.py
```

#### æ­¥éª¤ 2ï¼ˆå¯é€‰ï¼‰ï¼šåˆ é™¤æœªä½¿ç”¨çš„ workflows

```powershell
# åˆ é™¤æ‰€æœ‰ bmad-bmm- å¼€å¤´çš„ workflows
del .agent\workflows\bmad-bmm-*.md

# æˆ–è€…é€ä¸ªç¡®è®¤åˆ é™¤
# æŸ¥çœ‹åˆ—è¡¨ï¼šdir .agent\workflows\bmad-*.md
```

#### æ­¥éª¤ 3ï¼ˆå¯é€‰ï¼‰ï¼šåˆ é™¤æœªä½¿ç”¨çš„ skills

```powershell
# ä»…å½“ç¡®è®¤ä¸éœ€è¦æ—¶
rmdir /s /q .agent\skills\docker-lint
rmdir /s /q .agent\skills\k8s-lint
rmdir /s /q .agent\skills\rust-lint
```

### å¦‚æœæ‚¨æƒ³ä¿å®ˆå¤„ç†

**ä¸åˆ é™¤ä»»ä½•æ–‡ä»¶**ï¼Œå› ä¸ºï¼š

1. å ç”¨ç©ºé—´å¾ˆå°ï¼ˆçº¦ 500 KBï¼‰
2. å¯èƒ½åœ¨å°†æ¥éœ€è¦
3. ä¸å½±å“ç³»ç»Ÿæ€§èƒ½
4. ä¿ç•™çµæ´»æ€§

---

## ğŸ”„ ç³»ç»Ÿæç¤ºæ›´æ–°å»ºè®®

åˆ é™¤ workflows/skills åï¼Œéœ€è¦æ›´æ–°ç³»ç»Ÿæç¤ºä¸­çš„åˆ—è¡¨ï¼Œå¦åˆ™ AI ä¼šå°è¯•è°ƒç”¨ä¸å­˜åœ¨çš„åŠŸèƒ½ã€‚

**ä½ç½®**ï¼šæ‚¨çš„ç³»ç»Ÿé…ç½®ä¸­çš„ `<workflows>` å’Œ `<skills>` éƒ¨åˆ†
